<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">Your Logo</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
          <li class="nav-item active">
              <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/about">About</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" href="/contact">Contact</a>
          </li>
      </ul>
      <!-- Add a Logout link -->
      <ul class="navbar-nav ml-auto">
          <li class="nav-item">
              <a class="nav-link" href="/logout">Logout</a>
          </li>
      </ul>
  </div>
</nav>

<script>

    function logout() {
        const token = localStorage.getItem('token');
        if (token) {
        
            fetch("{% url 'logout' %}", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + token,
                },
                body: JSON.stringify({ refresh: token }),
            })
            .then(response => {
                if (response.status === 204) {
             
                    localStorage.removeItem('token');
        
                    window.location.href = {% url 'login' %}; 
                } else {
              
                    console.error('Logout failed.');
                }
            })
            .catch(error => {
                console.error('Error during logout:', error);
            });
        } else {
            console.error('User is not authenticated.');
        }
    }
    

    document.querySelector('#logout-link').addEventListener('click', logout);
    



</script>
